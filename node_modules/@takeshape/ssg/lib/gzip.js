"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = gzipContents;

var _util = require("@takeshape/util");

function gzipContents(renderTemplate) {
  return async (path, template, context) => {
    const item = await renderTemplate(path, template, context);

    if ((0, _util.shouldCompress)(item.path)) {
      return {
        path: item.path,
        contents: await (0, _util.gzip)(item.contents)
      };
    }

    return item;
  };
}