/// <reference types="node" />
import { GraphQLFormattedError } from 'graphql';
declare type ArrayType<T extends any[]> = T extends (infer U)[] ? U : never;
export declare type WritableProps<T> = {
    -readonly [P in keyof T]: T[P] extends any[] ? WritableProps<ArrayType<T[P]>>[] : WritableProps<T[P]>;
};
export interface TemplateLocation {
    file: string;
    line: number;
    column: number;
}
export declare type JsonPrimitive = string | boolean | number | null;
export declare type Json = JsonPrimitive | {
    [name: string]: Json;
} | Json[];
export interface Data {
    [name: string]: any;
}
export interface Warning {
    source: string;
    message: string;
}
export interface ContentUsage {
    [id: string]: {
        [path: string]: number;
    };
}
export interface Stats {
    warnings: Warning[];
    pagesGenerated: number;
    contentUsage?: ContentUsage;
}
export interface TemplateContext {
    [name: string]: Json;
}
export interface RenderedPage {
    path: string;
    contents: string | Buffer;
}
export interface RenderTemplate {
    (path: string, template: string, context: TemplateContext): Promise<RenderedPage>;
}
export interface RenderTemplateDecorator {
    (renderTemplate: RenderTemplate): RenderTemplate;
}
export interface GraphQLConnectorParams {
    query: string;
    variables?: Data;
    operationName?: string;
}
export interface GraphQLConnectorContext {
    source?: string;
    stats?: Stats;
    applyMigrations?: boolean;
    isPaginated?: boolean;
}
export interface GraphQLResult {
    errors?: GraphQLFormattedError[];
    data?: {
        [name: string]: any;
    } | null;
}
export interface GraphQLConnector {
    (params: GraphQLConnectorParams, context?: GraphQLConnectorContext): Promise<GraphQLResult>;
}
export {};
