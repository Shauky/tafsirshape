import '../async-iterator-polyfill';
import { DocumentNode } from './ast';
import { GraphQLSchema } from 'graphql';
import { Data, GraphQLConnector, Stats } from '../types';
export interface PaginationStrategy {
    type: string;
    fromName: string;
    sizeName: string;
    hasNextPath?: string[];
    cursorPath?: string[];
    totalPath?: string[];
    itemsPath: string[];
}
export interface PaginatedField {
    strategy: PaginationStrategy;
    fromVarName: string;
    sizeVarName: string;
    astPath: string[];
    queryPath: string[];
}
export declare function findPaginatedFields(ast: DocumentNode, schema: GraphQLSchema): PaginatedField[];
export declare function removeNonPaginated(ast: DocumentNode, paginatedFields: PaginatedField[]): DocumentNode;
export declare function addPaginationVariables(ast: DocumentNode, paginatedFields: PaginatedField[]): DocumentNode;
export declare function hasField(ast: {
    [name: string]: any;
}, queryPath: string[]): boolean;
export declare function ensureField(ast: any, queryPath: string[]): DocumentNode;
export declare function ensurePaginationFields(ast: DocumentNode, paginatedFields: PaginatedField[], source?: string): DocumentNode;
export declare function isDone(queryArgs: Data, queryData: Data, paginatedField: PaginatedField): boolean;
export interface GetQueryIteratorOptions {
    variables?: Data;
    pageSize?: number;
    source?: string;
    stats?: Stats;
}
export interface QueryIteratorResult {
    iterator: () => AsyncGenerator;
    total?: number;
}
export declare function getQueryIterator(schema: GraphQLSchema, query: string, connector: GraphQLConnector, { variables, pageSize, source, stats }?: GetQueryIteratorOptions): Promise<QueryIteratorResult>;
