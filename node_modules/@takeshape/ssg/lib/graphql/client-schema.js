"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getClientSchema = getClientSchema;

var _graphql = require("graphql");

async function getClientSchema(connector) {
  const res = await connector({
    query: _graphql.introspectionQuery
  }, {
    applyMigrations: false
  });

  if (!res.data) {
    throw new Error('Failed to fetch client schema');
  }

  return (0, _graphql.buildClientSchema)(res.data);
}