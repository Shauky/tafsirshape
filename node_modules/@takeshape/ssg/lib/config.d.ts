import { FormatLocaleDefinition } from 'd3-format';
import { Data } from './types';
export interface GraphQLQueryConfig {
    query: string;
    variables?: {
        [name: string]: any;
    };
}
export declare type ContextConfig = string | GraphQLQueryConfig | Data;
export interface PaginateConfig {
    template?: string;
    pageSize: number;
    firstPage?: string;
    path?: string;
    data?: string | GraphQLQueryConfig;
    itemName?: string;
    property?: string;
}
export interface RouteConfig {
    path: string;
    template: string;
    context?: ContextConfig;
    paginate?: PaginateConfig;
}
export interface ResolvedRouteConfig extends Omit<RouteConfig, 'context'> {
    context: Data;
}
export interface DatesConfig {
    tz: string;
    format: string;
    locale?: string;
}
export interface NumbersConfig {
    format?: string;
    config?: Partial<FormatLocaleDefinition>;
}
export interface RoutesMap {
    [name: string]: RouteConfig;
}
export interface FileLoader {
    (path: string): Promise<string>;
}
export interface SyncFileLoader {
    (path: string): string | undefined;
}
export interface Config {
    env: {
        [name: string]: string;
    };
    context?: ContextConfig;
    routes: RoutesMap;
    imageBaseUrl: string;
    assetBaseUrl: string;
    imageDefaults: {
        [name: string]: string;
    };
    locale: string;
    pathPrefix: string;
    templatePath: string;
    buildPath: string;
    staticPath: string;
    dates: DatesConfig;
    usageStats: boolean;
    htmlCompression?: {
        enabled: boolean;
        options?: {
            [name: string]: any;
        };
    };
    gzip: boolean;
    numbers?: NumbersConfig;
    locales?: {
        [code: string]: {
            pathPrefix: string;
            dates?: DatesConfig;
            numbers?: NumbersConfig;
        };
    };
}
export declare function prepareConfig(config: Partial<Config>, envConfig?: Partial<Config>): Config;
export declare function loadConfig(fileLoader: FileLoader, configFilePath?: string, envConfig?: Partial<Config>): Promise<Config>;
export declare function localizeConfig(config: Config, localeStr: string): Config;
export interface RouteInfo {
    routeName: string;
    path: string;
    isPaginated: boolean;
}
export interface RouteQuery extends RouteInfo {
    filePath: string;
}
export declare function isGraphQLQueryConfig(x: ContextConfig): x is GraphQLQueryConfig;
export declare function getGraphQLQueries(config: Pick<Config, 'routes' | 'context'>): RouteQuery[];
